(function(){var require=function(file,cwd){var resolved=require.resolve(file,cwd||"/");var mod=require.modules[resolved];if(!mod)throw new Error("Failed to resolve module "+file+", tried "+resolved);var cached=require.cache[resolved];var res=cached?cached.exports:mod();return res};require.paths=[];require.modules={};require.cache={};require.extensions=[".js",".coffee",".json"];require._core={assert:true,events:true,fs:true,path:true,vm:true};require.resolve=function(){return function(x,cwd){if(!cwd)cwd="/";if(require._core[x])return x;var path=require.modules.path();cwd=path.resolve("/",cwd);var y=cwd||"/";if(x.match(/^(?:\.\.?\/|\/)/)){var m=loadAsFileSync(path.resolve(y,x))||loadAsDirectorySync(path.resolve(y,x));if(m)return m}var n=loadNodeModulesSync(x,y);if(n)return n;throw new Error("Cannot find module '"+x+"'");function loadAsFileSync(x){x=path.normalize(x);if(require.modules[x]){return x}for(var i=0;i<require.extensions.length;i++){var ext=require.extensions[i];if(require.modules[x+ext])return x+ext}}function loadAsDirectorySync(x){x=x.replace(/\/+$/,"");var pkgfile=path.normalize(x+"/package.json");if(require.modules[pkgfile]){var pkg=require.modules[pkgfile]();var b=pkg.browserify;if(typeof b==="object"&&b.main){var m=loadAsFileSync(path.resolve(x,b.main));if(m)return m}else if(typeof b==="string"){var m=loadAsFileSync(path.resolve(x,b));if(m)return m}else if(pkg.main){var m=loadAsFileSync(path.resolve(x,pkg.main));if(m)return m}}return loadAsFileSync(x+"/index")}function loadNodeModulesSync(x,start){var dirs=nodeModulesPathsSync(start);for(var i=0;i<dirs.length;i++){var dir=dirs[i];var m=loadAsFileSync(dir+"/"+x);if(m)return m;var n=loadAsDirectorySync(dir+"/"+x);if(n)return n}var m=loadAsFileSync(x);if(m)return m}function nodeModulesPathsSync(start){var parts;if(start==="/")parts=[""];else parts=path.normalize(start).split("/");var dirs=[];for(var i=parts.length-1;i>=0;i--){if(parts[i]==="node_modules")continue;var dir=parts.slice(0,i+1).join("/")+"/node_modules";dirs.push(dir)}return dirs}}}();require.alias=function(from,to){var path=require.modules.path();var res=null;try{res=require.resolve(from+"/package.json","/")}catch(err){res=require.resolve(from,"/")}var basedir=path.dirname(res);var keys=(Object.keys||function(obj){var res=[];for(var key in obj)res.push(key);return res})(require.modules);for(var i=0;i<keys.length;i++){var key=keys[i];if(key.slice(0,basedir.length+1)===basedir+"/"){var f=key.slice(basedir.length);require.modules[to+f]=require.modules[basedir+f]}else if(key===basedir){require.modules[to]=require.modules[basedir]}}};(function(){var process={};var global=typeof window!=="undefined"?window:{};var definedProcess=false;require.define=function(filename,fn){if(!definedProcess&&require.modules.__browserify_process){process=require.modules.__browserify_process();definedProcess=true}var dirname=require._core[filename]?"":require.modules.path().dirname(filename);var require_=function(file){var requiredModule=require(file,dirname);var cached=require.cache[require.resolve(file,dirname)];if(cached&&cached.parent===null){cached.parent=module_}return requiredModule};require_.resolve=function(name){return require.resolve(name,dirname)};require_.modules=require.modules;require_.define=require.define;require_.cache=require.cache;var module_={id:filename,filename:filename,exports:{},loaded:false,parent:null};require.modules[filename]=function(){require.cache[filename]=module_;fn.call(module_.exports,require_,module_,module_.exports,dirname,filename,process,global);module_.loaded=true;return module_.exports}}})();require.define("path",function(require,module,exports,__dirname,__filename,process,global){function filter(xs,fn){var res=[];for(var i=0;i<xs.length;i++){if(fn(xs[i],i,xs))res.push(xs[i])}return res}function normalizeArray(parts,allowAboveRoot){var up=0;for(var i=parts.length;i>=0;i--){var last=parts[i];if(last=="."){parts.splice(i,1)}else if(last===".."){parts.splice(i,1);up++}else if(up){parts.splice(i,1);up--}}if(allowAboveRoot){for(;up--;up){parts.unshift("..")}}return parts}var splitPathRe=/^(.+\/(?!$)|\/)?((?:.+?)?(\.[^.]*)?)$/;exports.resolve=function(){var resolvedPath="",resolvedAbsolute=false;for(var i=arguments.length;i>=-1&&!resolvedAbsolute;i--){var path=i>=0?arguments[i]:process.cwd();if(typeof path!=="string"||!path){continue}resolvedPath=path+"/"+resolvedPath;resolvedAbsolute=path.charAt(0)==="/"}resolvedPath=normalizeArray(filter(resolvedPath.split("/"),function(p){return!!p}),!resolvedAbsolute).join("/");return(resolvedAbsolute?"/":"")+resolvedPath||"."};exports.normalize=function(path){var isAbsolute=path.charAt(0)==="/",trailingSlash=path.slice(-1)==="/";path=normalizeArray(filter(path.split("/"),function(p){return!!p}),!isAbsolute).join("/");if(!path&&!isAbsolute){path="."}if(path&&trailingSlash){path+="/"}return(isAbsolute?"/":"")+path};exports.join=function(){var paths=Array.prototype.slice.call(arguments,0);return exports.normalize(filter(paths,function(p,index){return p&&typeof p==="string"}).join("/"))};exports.dirname=function(path){var dir=splitPathRe.exec(path)[1]||"";var isWindows=false;if(!dir){return"."}else if(dir.length===1||isWindows&&dir.length<=3&&dir.charAt(1)===":"){return dir}else{return dir.substring(0,dir.length-1)}};exports.basename=function(path,ext){var f=splitPathRe.exec(path)[2]||"";if(ext&&f.substr(-1*ext.length)===ext){f=f.substr(0,f.length-ext.length)}return f};exports.extname=function(path){return splitPathRe.exec(path)[3]||""}});require.define("__browserify_process",function(require,module,exports,__dirname,__filename,process,global){var process=module.exports={};process.nextTick=function(){var canSetImmediate=typeof window!=="undefined"&&window.setImmediate;var canPost=typeof window!=="undefined"&&window.postMessage&&window.addEventListener;if(canSetImmediate){return function(f){return window.setImmediate(f)}}if(canPost){var queue=[];window.addEventListener("message",function(ev){if(ev.source===window&&ev.data==="browserify-tick"){ev.stopPropagation();if(queue.length>0){var fn=queue.shift();fn()}}},true);return function nextTick(fn){queue.push(fn);window.postMessage("browserify-tick","*")}}return function nextTick(fn){setTimeout(fn,0)}}();process.title="browser";process.browser=true;process.env={};process.argv=[];process.binding=function(name){if(name==="evals")return require("vm");else throw new Error("No such module. (Possibly not yet loaded)")};(function(){var cwd="/";var path;process.cwd=function(){return cwd};process.chdir=function(dir){if(!path)path=require("path");cwd=path.resolve(dir,cwd)}})()});require.define("/solum/services/ajax.js",function(require,module,exports,__dirname,__filename,process,global){module.exports=function(){"use strict";var routes;var ajax={};ajax.routes={exampleRoute:{name:"exampleRoute",url:"/example/{param}",method:"GET",params:[{name:"param",defaultValue:"my default"}]}};ajax.defaultConfig={prefix:"",ajax:$.ajax,badRequestHandler:function(){},errorHandler:function(){}};ajax.manager=function(config){var self,prefix,ajaxMethod,badRequestHandler,errorHandler;self=this;config=$.extend({},ajax.defaultConfig,config);prefix=config.prefix;ajaxMethod=config.ajax;badRequestHandler=config.badRequestHandler;errorHandler=config.errorHandler;this.status=ko.observable("OK");this.pendingRequests=[];this.isOK=ko.computed(function(){return this.status()==="OK"},this);this.isLoading=ko.computed(function(){return this.status()==="LOADING"},this);this.isFailed=ko.computed(function(){return this.status()==="FAILED"},this);this.isBadRequest=ko.computed(function(){return this.status()==="BAD_REQUEST"},this);this.generateURL=function(routeName,params){var route,url,i,isDataUndefined,doesParamNotExist;if(typeof ajax.routes[routeName]!=="object"){throw"AjaxManager.generateURL(): The requested route does not exist: "+routeName}else{route=ajax.routes[routeName]}url=prefix+route.url;for(i in route.params){if(route.params.hasOwnProperty(i)){isDataUndefined=typeof params.routeData==="undefined";doesParamNotExist=typeof params.routeData[route.params[i].name]==="undefined";doesParamNotExist=doesParamNotExist&&typeof route.params[i].defaultValue==="undefined";if(isDataUndefined||doesParamNotExist){throw"AjaxManager.generateURL: A required parameter was not included in the request: "+route.params[i].name}else if(typeof params.routeData[route.params[i].name]!=="undefined"){url=url.replace("{"+route.params[i].name+"}",params.routeData[route.params[i].name])}else if(typeof route.params[i].defaultValue!=="undefined"){url=url.replace("{"+route.params[i].name+"}",route.params[i].defaultValue)}}}return url};this.request=function(routeName,params,success){if(typeof ajax.routes[routeName]!=="object"){throw"AjaxManager.request(): The requested route does not exist"}if(ajax.routes[routeName].method==="post"&&!params.data){throw"AjaxManager.request(): params.data must exist if you are posting."}return self.makeRequest(ajax.routes[routeName],params,success)};this.makeRequest=function(route,params,success){var cnt,url;self.status("LOADING");cnt=self.pendingRequests.length;if(cnt>0&&!params.isSimultaneousRequest){cnt=0;$.each(self.pendingRequests,function(idx,$ajaxInstance){if(typeof $ajaxInstance==="object"&&$ajaxInstance!==null){$ajaxInstance.abort()}})}url=self.generateURL(route.name,params);self.pendingRequests[cnt]=ajaxMethod({url:url,type:route.method,data:params.data,timeout:6e5,success:function(data,textStatus,jqXHR){self.status("OK");self.pendingRequests[cnt]=null;return success(data)},statusCode:{400:function(jqXHR,textStatus,errorThrown){self.status("BAD_REQUEST");self.pendingRequests[cnt]=null;return badRequestHandler(jqXHR,textStatus,errorThrown)}},error:function(jqXHR,textStatus,errorThrown){self.status("FAILED");self.pendingRequests[cnt]=null;return errorHandler(jqXHR,textStatus,errorThrown)}});return self.pendingRequests[cnt]}};routes=ajax.routes;ajax.addAjaxRoutes=function(newRoutes){$.extend(routes,newRoutes)};return ajax}()});require.define("/solum/services/validation.js",function(require,module,exports,__dirname,__filename,process,global){module.exports=function(){"use strict";var validation={};validation.defaultConfig={};validation.validator=function(config){var self;self=this;config=$.extend(config,validation.defaultConfig);self.isEntityValid=function(entity){var isValid,i,j,errors;isValid=true;for(i in entity.properties){errors=self.isValid(entity.properties[i](),entity.constraints[i]);entity.errors[i].removeAll();for(j in errors){if(errors.hasOwnProperty(j)){entity.errors[i].push(errors[j])}}if(errors.length>0){isValid=false}}return isValid};self.isValid=function(subject,constraintList){var errors,isFailed,i;errors=[];for(i in constraintList){isFailed=false;if(constraintList.hasOwnProperty(i)){try{constraintList[i].test(subject)}catch(e){errors.push(e.error);isFailed=true}if(isFailed&&!constraintList[i].continueOnFail)break}}return errors}};validation.constraints={};validation.constraints.constructConstraint=function(group,name,params,msg){var constraints=validation.constraints;if(!constraints[group]||!constraints[group][name]){throw"ConstructConstraint: Constraint not found."}return new validation.constraints[group][name](params,msg)};validation.constraints.abstractConstraint=function(params,msg){this.msg=msg;this.params=params;this.continueOnFail=false;this.test=function(subject){throw{error:self.msg}}};validation.constraints.general=require("./constraints/general");validation.constraints.date=require("./constraints/date");validation.constraints.string=require("./constraints/string");return validation}()});require.define("/solum/services/constraints/general.js",function(require,module,exports,__dirname,__filename,process,global){module.exports=function(){"use strict";var general={};general.notNull=function(params,msg){var self=this;self.defaultMsg="errors.form.general.not_null";self.msg=msg?msg:self.defaultMsg;self.params=params;self.test=function(subject){if(subject===""||subject===null||subject===undefined){throw{error:self.msg}}return true}};general.type=function(params,msg){var self=this;self.defaultMsg="errors.form.general.type";msg=msg?msg:self.defaultMsg;self.msg=msg;self.params=params;self.test=function(subject){if(self.params.type==="null"&&subject!==null||typeof subject!==self.params.type){throw{error:self.msg}}return true}};return general}()});require.define("/solum/services/constraints/date.js",function(require,module,exports,__dirname,__filename,process,global){module.exports=function(){"use strict";var date={};date.min=function(params,msg){var self=this;self.continueOnFail=false;self.defaultMsg="errors.form.date.min";self.msg=msg?msg:self.defaultMsg;self.params=params;self.test=function(subject){if(true){throw{error:self.msg}}return true}};return date}()});require.define("/solum/services/constraints/string.js",function(require,module,exports,__dirname,__filename,process,global){module.exports=function(){"use strict";var string={};string.minLength=function(params,msg){var self=this;self.defaultMsg="errors.form.string.min_length";self.msg=msg?msg:self.defaultMsg;self.params=params;self.test=function(subject){if(subject.length<self.params.min){throw{error:self.msg}}return true}};string.maxLength=function(params,msg){var self=this;self.defaultMsg="errors.form.string.max_length";self.msg=msg?msg:self.defaultMsg;self.params=params;this.test=function(subject){if(subject.length>self.params.max){throw{error:self.msg}}return true}};string.match=function(params,msg){var self=this;self.defaultMsg="errors.form.string.match";self.msg=msg?msg:self.defaultMsg;self.params=params;this.test=function(subject){if(subject.match(self.params.regex)){throw{error:self.msg}}return true}};return string}()});require.define("/solum/services/translation.js",function(require,module,exports,__dirname,__filename,process,global){module.exports=function(root){"use strict";var translation={};translation.dictionary={en:{}};translation.addDictionary=function(dict){translation.dictionary=$.extend(true,{},dict,translation.dictionary)};translation.defaultConfig={};translation.translator=function(config){var self,locale,dictionary,translations,localized_format;config=$.extend({},config,translation.defaultConfig);self=this;locale="en";dictionary=translation.dictionary;translations=dictionary[locale];self.translate=function(text,replace){var key,keys,trans,i,j,r,v;keys=text.split(".");trans=translations;for(j in keys){if(keys.hasOwnProperty(j)){if(typeof trans[keys[j]]==="string"||typeof trans[keys[j]]==="object"){trans=trans[keys[j]]}else{trans=text}}}for(i in replace){if(replace.hasOwnProperty(i)){key="%"+i+"%";if(!replace[i].mustTranslate){trans=trans.replace(key,replace[i])}else{r=replace[i];v=r.value;if(r.type==="date"){v=self.dateToLocalizedString(v)}else if(r.type==="number"){v=self.numberToLocalizedNumberString(v)}else if(r.type==="currency"){v=self.numberToLocalizedCurrencyString(v)}else{v=self.translate(v)}trans=trans.replace(key,v)}}}return trans};self.dateToLocalizedString=function(dateObj){if(!(dateObj instanceof Date)){throw"Translator.dateToLocalizedString: tried to translate a non-date object."}return dateObj.toString(localized_format.date.format)};self.numberToLocalizedNumberString=function(num){};self.numberToLocalizedCurrencyString=function(num){}};return translation}()});require.define("/solum/services/storage.js",function(require,module,exports,__dirname,__filename,process,global){module.exports=function(){"use strict";var storage={};storage.HTML5={};storage.HTML5.defaultConfig={ttl:7*24*60*60*1e3,namespace:"",storage:localStorage};storage.HTML5.manager=function(config){var MetaDataWrapper,storageApi,ttl,namespace,storage,isStorageAvailable,maxedOut,isMaxedOut,apiAccessor;config=$.extend(config,storage.HTML5.defaultConfig);MetaDataWrapper=function(value,ttl){var now=new Date;this.created=now.getTime();this.ttl=ttl;this.value=value};storageApi={};ttl=config.ttl;namespace=config.namespace;storage=config.storage;isStorageAvailable=typeof localStorage==="object"&&localStorage!==null;isStorageAvailable=isStorageAvailable&&typeof sessionStorage==="object"&&sessionStorage!==null;maxedOut=false;isMaxedOut=function(){return isMaxedOut};storageApi.save=function(key,value){if(maxedOut){return false}var w=new MetaDataWrapper(value,ttl);storage[key]=JSON.stringify(w);try{w=new MetaDataWrapper(value,ttl);storage[key]=JSON.stringify(w)}catch(e){if(e!=="QUOTA_EXCEEDED_ERR"){throw e}maxedOut=true;return false}return true};storageApi.get=function(key){var badValues,type,o,created,ttl,d;badValues={"null":true,undefined:true,"false":true};type=typeof storage[key];if(type==="undefined"||badValues[type]){return null}o=JSON.parse(storage[key]);created=Number(o.created);ttl=Number(o.ttl);if(typeof o!=="object"||created===0||isNaN(created)||isNaN(ttl)){return null}d=new Date;if(d.getTime()-created>ttl){storageApi.remove(key);return null}return o.value};storageApi.remove=function(key){storage.removeItem(key);maxedOut=false};storageApi.clear=function(){storage.clear();maxedOut=false};apiAccessor=function(method,key,value){if(typeof method!=="string"||typeof storageApi[method]!=="function"){throw"StorageManager: Method was not a string or does not exist, got type: "+typeof method}if(!isStorageAvailable){return false}var nskey=namespace+key;return storageApi[method](nskey,value)};apiAccessor.isMaxedOut=isMaxedOut;return apiAccessor};return storage}()});require.define("/solum/components/tables.js",function(require,module,exports,__dirname,__filename,process,global){module.exports=function(){"use strict";var api={};api.paginatedTable=function(){if(!(this instanceof api.paginatedTable)){return new api.paginatedTable}var self,tableApi;self=this;tableApi={};tableApi.list=ko.observableArray([]);tableApi.page=new api.page;tableApi.view={};tableApi.view.afterRender=function(){};tableApi.view.afterAdd=function(){};tableApi.view.beforeRemove=function(){};tableApi.addItem=function(item){self.list.push(item)};tableApi.addItems=function(items){var i;if(typeof items!=="object"||items===null){throw"Add items helper requires an array. Received: "+typeof items}for(i in items){if(items.hasOwnProperty(i)){self.addItem(items[i])}}return items};tableApi.removeItems=function(key,value){var list,temp,i;list=self.list();temp=[];for(i in list){if(list.hasOwnProperty(i)&&(typeof list[i][key]==="undefined"||list[i][key]!==value)){temp.push(list[i])}}self.empty();self.addItems(temp)};tableApi.empty=function(){self.list.splice(0,self.list().length)};tableApi.reload=function(items){self.empty();self.addItems(items)};this.list=tableApi.list;this.view=tableApi.view;this.page=tableApi.page;this.addItem=tableApi.addItem;this.addItems=tableApi.addItems;this.removeItems=tableApi.removeItems;this.empty=tableApi.empty;this.reload=tableApi.reload};api.groupedList=function(){var self,groupedListApi,empty;if(!(this instanceof api.groupedList)){return new api.groupedList}self=this;groupedListApi={};groupedListApi.groupedList=ko.observableArray([]);groupedListApi.table=new api.paginatedTable;groupedListApi.view={};groupedListApi.view.afterRender=function(){};groupedListApi.view.afterAdd=function(){};groupedListApi.view.beforeRemove=function(){};groupedListApi.groupBy=ko.observable(null);groupedListApi.setGroupBy=function(p){self.groupBy(p);self.groupItems()};empty=function(){self.groupedList.splice(0,self.groupedList().length)};groupedListApi.groupItems=function(){var p,list,temp,i,t;p=self.groupBy();empty();list=self.table.list();if(!p){self.groupedList.push({property:null,entries:list.slice(0)});return}temp={};for(i in list){if(list.hasOwnProperty(i)){if(typeof list[i][p]==="undefined"){throw"GroupedList.groupItems: group by property does not exist on one or more elements."}else{if(typeof temp[list[i][p]]!=="object"){temp[list[i][p]]=[]}temp[list[i][p]].push(list[i])}}}t=null;for(i in temp){if(temp.hasOwnProperty(i)){t={property:i,entries:temp[i]};self.groupedList.push(t)}}};this.groupedList=groupedListApi.groupedList;this.table=groupedListApi.table;this.view=groupedListApi.view;this.groupBy=groupedListApi.groupBy;this.setGroupBy=groupedListApi.setGroupBy;this.groupItems=groupedListApi.groupItems};api.page=function(){var self,setSort;if(!(this instanceof api.page)){return new api.page}self=this;self.onChange=function(){return self};self.page=ko.observable(1);self.getPage=function(){return self.page()};self.setPage=function(num){var retVal=false;if(typeof num!=="number"){throw"Page: setPage only accepts a number"}if(num>=1&&num<=self.getTotalPages()&&num!==self.page()){self.page(num);retVal=self.onChange()}return retVal};self.first=function(){return self.setPage(1)};self.next=function(){return self.setPage(self.page()+1)};self.previous=function(){return self.setPage(self.page()-1)};self.last=function(){return self.setPage(self.totalPages())};self.setPageToFirstAndTriggerOnChange=function(){var ret;if(self.getPage()!==1){ret=self.first()}else{ret=self.onChange()}return ret};self.totalPages=ko.observable(0);self.getTotalPages=function(){return self.totalPages()};self.totalCount=ko.observable(0);self.getTotalCount=function(){return self.totalCount()};self.setTotalCount=function(num){if(typeof num!=="number"){throw"Total count must be a number"}self.totalCount(num);self.totalPages(Math.ceil(self.totalCount()/self.pageSize()));return self};self.defaultPageSize=25;self.pageSize=ko.observable(self.defaultPageSize);self.getPageSize=function(){return self.pageSize()};self.setPageSize=function(num){var retVal=false;if(typeof num!=="number"){throw"Page size must be a number"}if(num!=self.getPageSize()){self.pageSize(num);self.totalPages(Math.ceil(self.totalCount()/self.pageSize()));self.setPageToFirstAndTriggerOnChange();retVal=true}return retVal};self.loadMore=function(){var ret;if(self.pageSize()>=self.totalCount()){ret=false}else{ret=self.setPageSize(self.pageSize()+self.defaultPageSize)}return ret};self.hasMore=ko.computed(function(){return self.pageSize()<self.totalCount()});self.isFirstPage=ko.computed(function(){return self.page()===1});self.isNotFirstPage=ko.computed(function(){return self.page()!==1});self.isLastPage=ko.computed(function(){return self.page()===self.totalPages()});self.isNotLastPage=ko.computed(function(){return self.page()<self.totalPages()});self.sortCol=ko.observable(0);self.getSortCol=function(){return self.sortCol()};self.setSortCol=function(num){if(typeof num!=="number"){throw"Sort column must be a number"}self.sortCol(num);self.setPageToFirstAndTriggerOnChange()};self.sortDir=ko.observable("A");self.getSortDir=function(){return self.sortDir()};self.setSortDir=function(dir){if(dir!=="A"&&dir!=="D"){throw"Sort direction must be 'A' or 'D'"}self.sortDir(dir);self.setPageToFirstAndTriggerOnChange()};setSort=function(col,dir){self.sortCol(col);self.sortDir(dir);self.setPageToFirstAndTriggerOnChange()};self.toggleSort=function(colIdx){var sort,dir,ret;sort=null;dir="A";if(colIdx!==self.getSortCol()){dir="A";ret=setSort(colIdx,dir)}else{dir=self.getSortDir()==="A"?"D":"A";ret=setSort(colIdx,dir)}return ret};self.toObj=function(){return{page:self.page(),limit:self.pageSize(),sort_col:self.getSortCol(),sort_dir:self.getSortDir()}};self.fromObj=function(obj){if(typeof obj!=="object"||obj===null){throw"Page: fromObj() accepts only an object with the appropriate properties"}self.setTotalCount(obj.total_rows);self.page(obj.page);return self}};api.tree=function(){if(!(this instanceof api.tree)){return new api.tree}var self=this;self.raw=new api.paginatedTable;self.hierarchy=new ko.observable({});self.reset=function(){self.hierarchy({})};self.addItems=function(items){self.raw.addItems(items);self.createHierarchyFromRawList()};self.createHierarchyFromRawList=function(delim){var list,hierarchy,i,filepath,current,j,a,s,lastIdx;delim=typeof delim==="undefined"?"/":delim;list=self.raw.list();hierarchy={};for(i in list){filepath=list[i].split(delim);current=hierarchy;lastIdx=filepath.length-1;for(j in filepath){s=filepath[j];if(j==lastIdx){current[s]=list[i]}else if(typeof current[s]!=="object"&&s!==""){current[s]={};current=current[s]}else if(s!==""){current=current[s]}}}self.hierarchy(hierarchy)};return self};return api}()});require.define("/solum/components/dates.js",function(require,module,exports,__dirname,__filename,process,global){module.exports=function(){var api={};api.SmartDate=function(){var self=this;self.slug=ko.observable();self.name=null;self.dates={start:ko.observable(),end:ko.observable()};self.fromJSON=function(data){self.slug(data.slug);self.name=data.name;self.dates.start(data.dates.start);self.dates.end(data.dates.end)}};api.smartDateMenu={};api.DateRange=function(root){var self,ignoreDateSubscription;self=this;self.selectedSmartDate=ko.observable();self.selectedSmartDateSlug=ko.observable();self.validator=root.getService("validation","validator");self.hasChanged=false;self.dates=new root.constructEntity("DateRange");self.smartDates=ko.observableArray([]);self.addSmartDates=function(smart_dates){var i,sd;for(i in smart_dates){if(smart_dates.hasOwnProperty(i)){sd=new api.SmartDate;sd.fromJSON(smart_dates[i]);self.smartDates.push(sd)}}};self.selectedSmartDateSlug.subscribe(function(selectedSlug){var s,found,i,start,end;s=self.smartDates();found=false;for(i in s){if(s.hasOwnProperty(i)&&s[i].slug()===selectedSlug){self.selectedSmartDate(s[i]);found=true}}if(found){start=self.selectedSmartDate().dates.start();end=self.selectedSmartDate().dates.end();ignoreDateSubscription=true;self.dates.start(start);self.dates.end(end);ignoreDateSubscription=false}});ignoreDateSubscription=false;self.updateToCustom=function(){var start,end;start=self.dates.start();end=self.dates.end();self.hasChanged=true;self.validator.isEntityValid(self.dates);if(self.selectedSmartDateSlug()!=="custom"&&!ignoreDateSubscription){self.selectedSmartDateSlug("custom");self.dates.start(start);self.dates.end(end)}};self.dates.start.subscribe(self.updateToCustom);self.dates.end.subscribe(self.updateToCustom);self.isCustomSelected=ko.computed(function(){return self.selectedSmartDateSlug()==="custom"},this)};return api}()});require.define("/solum/entities/DateRange.js",function(require,module,exports,__dirname,__filename,process,global){module.exports=function(solum){var self,today,threeYearsAgo,localization,checkFormat,startConstraints;this.properties={};this.properties.start=ko.observable("");this.properties.end=ko.observable("");this.constraints={start:[solum.constructConstraint("general","notNull")],end:[solum.constructConstraint("general","notNull")]}}});require.define("/solum.js",function(require,module,exports,__dirname,__filename,process,global){solum=function(){"use strict";var api,decorateEntity,getSingleton;api=function(){};api.extend=function(subclass,superclass){var F=function(){};F.prototype=superclass.prototype;subclass.prototype=new F;subclass.prototype.constructor=subclass;subclass.superclass=superclass.prototype};api.config={locale:"en",dateAndNumberFormatLocalization:{en:{date:{long_format:"MMMM d, yyyy",format:"yyyy-M-dd",pattern:/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/,delimiter:"-",map:{year:2,month:1,day:0}},number:{thousand_delimiter:",",decimal:"."},currency:{currency_symbol:"&#36;",thousand_delimiter:",",decimal:"."}}}};api.setLocale=function(loc){api.config.locale=loc};api.models={};api.getModel=function(group,model){if(typeof api.models[group]!=="object"||typeof api.models[group][model]!=="function"){throw"The requested model does not exist."}return new api.models[group][model]};api.components={};api.getComponent=function(group,component){if(typeof api.components[group]!=="object"||typeof api.components[group][component]!=="function"){throw"The requested component does not exist."}return new api.components[group][component](api)};api.entities={};decorateEntity=function(entity){var i;entity.errors={};for(i in entity.properties){entity.errors[i]=ko.observableArray([]);entity[i]=entity.properties[i]}entity.hasError=ko.computed(function(){var hasError,i;hasError=false;for(i in this.errors){if(this.errors.hasOwnProperty(i)&&this.errors[i]().length>0){hasError=true}}return hasError},entity);var standardProperties=["constraints","errors","hasError"];entity.toObject=function(){var i,obj={};var self=this;for(i in self.properties){if(typeof self.properties[i]==="object"){obj[i]=self.properties[i].toObject()}else{obj[i]=self.properties[i]()}}return obj};entity.fromObject=function(obj){var i,self=this;for(i in self.properties){if(typeof self.properties[i]==="object"){obj[i]=self.properties[i].fromObject(obj[i])}else{self.properties[i](obj[i])}}return obj}};api.constructEntity=function(name){if(typeof name!=="string"){throw"The entity name must be a string"}var entity=new api.entities[name](api);decorateEntity(entity);return entity};api.instances={};getSingleton=function(group,name,config,isReset){var isRightType,doesGroupExist,doesSvcExist;isRightType=typeof group==="string"&&typeof name==="string";doesGroupExist=typeof api.services[group]==="object";doesSvcExist=doesGroupExist&&typeof api.services[group][name]==="function";if(!isRightType||!doesSvcExist){throw"The requested service does not exist. Group: "+group+" , name: "+name}if(typeof api.instances[group]!=="object"){api.instances[group]={};api.instances[group][name]=null}if(api.instances[group][name]===null||isReset){api.instances[group][name]=new api.services[group][name](config)}return api.instances[group][name]};api.getService=function(group,name,config){return getSingleton(group,name,config,false)};api.configureService=function(group,name,config){return getSingleton(group,name,config,true)};api.services={};return api}();solum.services.ajax=require("./solum/services/ajax");solum.addAjaxRoutes=solum.services.ajax.addAjaxRoutes;solum.services.validation=require("./solum/services/validation");solum.constructConstraint=solum.services.validation.constraints.constructConstraint;solum.services.translation=require("./solum/services/translation");solum.addDictionary=solum.services.translation.addDictionary;solum.services.storage=require("./solum/services/storage");solum.components.tables=require("./solum/components/tables");solum.components.dates=require("./solum/components/dates");solum.entities.DateRange=require("./solum/entities/DateRange");module.exports=solum;this.solum=solum});require("/solum.js")})();